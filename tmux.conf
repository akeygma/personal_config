set -gq status-utf8 on
setw -gq utf8 on
set -gq mouse-utf8 off
set -g default-terminal "tmux-256color"
set -sg escape-time 0
# prefix-key
unbind C-a
set -g prefix C-a
unbind C-b
bind C-a send-prefix
# ctrl-a ctrl-a will rotate between last two windows
# bind-key C-a last-window

set -g bell-action any
#setw -g mode-mouse on
#set-option -g mouse-select-pane on
setw -g mouse on
setw -g monitor-activity on

# split window
bind s split-window -v -c "#{pane_current_path}"
bind v split-window -h -c "#{pane_current_path}"
unbind %

# don't allow rename window name automatically, use c-a , to change window name
set-option -g allow-rename off

# switch pane
#bind j down-pane
#bind k up-pane
unbind j
unbind k
# alt-o will move to next pane
# alt-i will move to previous pane
# alt hjkl will move to pane left/down/up/right
bind -n M-i select-pane -t :.-
bind -n M-o select-pane -t :.+
bind -n M-p rotate-window
bind -n M-h select-pane -L
bind -n M-l select-pane -R
bind -n M-j select-pane -D
bind -n M-k select-pane -U
#always set mouse-select-pane on, no turn off
#bind -n M-m set-option -g mouse-select-pane on
#bind -n M-u set-option -g mouse-select-pane off

# resize panes

bind -n M-Left resize-pane -L
bind -n M-Right resize-pane -R
bind -n M-Down resize-pane -D
bind -n M-Up resize-pane -U

# maximize this pane
bind a run-shell "~/bin/tmux-enlarge-pane.sh 100"
bind b run-shell "~/bin/tmux-enlarge-pane.sh 50"
bind -n S-MouseDown1Pane select-pane -t =\; run-shell "~/bin/tmux-enlarge-pane.sh 75"
bind -n S-MouseDown3Pane select-pane -t =\; run-shell "~/bin/tmux-enlarge-pane.sh 100"
bind -n MouseDown3Pane select-pane -t =\; run-shell "~/bin/tmux-enlarge-pane.sh 50"
bind -n MouseDown1Pane select-pane -t =\; run-shell "~/bin/tmux-enlarge-pane.sh -l 10"

# Does not need resize-pane with big strides
#bind -n M-F9  resize-pane -R 5\; resize-pane -D 5
#bind -n M-F10 resize-pane -L 5\; resize-pane -U 5
#bind -n M-F11 resize-pane -L 5\; resize-pane -D 5
#bind -n M-F12 resize-pane -R 5\; resize-pane -U 5

# switch window
set -g base-index 1
# no need to fast go to different window
#bind -n F1 selectw -t:1
#bind -n F2 selectw -t:2
#bind -n F3 selectw -t:3
#bind -n F4 selectw -t:4

# alt-n will cycle through all windows
bind -n M-n next-window

# switch session
#bind -n M-F1 switchc -tmain
#bind -n M-F2 switchc -taux

 
# vi-style controls for copy mode
setw -g mode-keys vi
bind -n M-PPage    copy-mode -u
bind -n M-NPage    copy-mode
bind -n M-]    paste-buffer

# set title 
bind -n M-a command-prompt "rename-window %%"

# Notifying if other windows has activities
setw -g monitor-activity on
set -g visual-activity on
set -g message-style 'bg=#303030'

# Highlighting the active window in status bar
setw -g window-status-current-fg white
setw -g window-status-current-bg "#202020"
setw -g window-status-fg "#606060"
setw -g window-status-bg "#202020"
#setw -g mode-bg black
#set -g message-bg yellow
set -g pane-border-fg "#404040"
set -g pane-border-bg default
set -g pane-active-border-fg "#404040"
set -g pane-active-border-bg default

#set inactive/active window styles
#make active window a little bit lighter than inactive window
set -g window-style 'fg=default,bg=default'
set -g window-active-style 'fg=white,bg=black'

# do not high light window when there are activity

set -g status-attr default
set -g status-fg "#606060"
set -g status-bg "#202020"
set -g status-left-length 40
set -g status-right-length 200
set -g status-right "#(~/bin/tmux-status.sh)"
set -g status-interval 1

# Terminal emulator window title
set -g set-titles on
set -g set-titles-string '#S:#I.#P #W'

set -g history-limit 65536
################################

start-server

